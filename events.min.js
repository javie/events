(function(){var b,a,e,d;b=this;a={};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports){exports=module.exports=a;}exports.Events=a;
}else{if("undefined"===typeof b.Javie){b.Javie={};}b.Javie.Events=a;}e=b._;if(!e&&("undefined"!==typeof require)){e=require("underscore");}if(!e){throw new Error("Expected Underscore.js not available");
}a.make=function c(){var m,n;n=this;if(!e.isNull(d)&&!e.isUndefined(d)){return d;}m={};d={listener:function i(p,o){if(!e.isFunction(o)){throw new Error("Callback is not a function");
}if(e.isNull(m[p])||e.isUndefined(m[p])){m[p]=[];}m[p].push(o);return{id:p,cb:o};},fire:function h(s,r){var p,o;p=this;o=[];if(e.isNull(s)){throw new Error("Event ID is not provided: ["+s+"]");
}if(e.isNull(m[s])||e.isNull(m[s])){return null;}e.each(m[s],function q(u,t){o.push(u.apply(p,r||[]));});return o;},first:function j(t,s){var p,o,r;p=this;
o=[];if(e.isNull(t)){throw new Error("Event ID is not provided: ["+t+"]");}if(e.isNull(m[t])||e.isNull(m[t])){return null;}r=m[t].slice(0,1);e.each(r,function q(v,u){o.push(v.apply(p,s||[]));
});return o[0];},until:function f(s,r){var p,o;p=this;o=null;if(e.isNull(s)){throw new Error("Event ID is not provided: ["+s+"]");}if(e.isNull(m[s])||e.isNull(m[s])){return null;
}e.each(m[s],function q(u,t){if(e.isNull(o)){o=u.apply(p,r||[]);}});return null;},flush:function l(o){if(!e.isUndefined(m[o])){m[o]=null;}},forget:function g(q){var r,s,o;
r=this;s=q.id;o=q.cb;if(!e.isString(s)){throw new Error("Event ID is not provided: ["+s+"]");}if(!e.isFunction(o)){throw new Error("Callback is not a function");
}if(e.isNull(m[s])){throw new Error("No registered event found for ["+s+"]");}e.each(m[s],function p(u,t){if(u===o){m[s].splice(t,1);}});},clone:function k(p){return{to:function o(q){m[q]=e.clone(m[p]);
}};}};return d;};}).call(this);