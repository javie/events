(function(){var e,f,d,c,a,b;d=null;c={};a=typeof exports!=="undefined"&&exports!==null?exports:this;b=a._;if(!b&&(typeof require!=="undefined"&&require!==null)){b=require("underscore");
}if(!b){throw new Error("underscore.js is missing");}e=(function(){function g(){}g.prototype.clone=function(i){var h;return h={to:function(j){c[j]=b.clone(c[i]);
return true;}};};g.prototype.listen=function(j,h){var i;if(b.isFunction(h)===false){throw new Error("Callback is not a function");}i={id:j,cb:h};if(c[j]==null){c[j]=[];
}c[j].push(h);return i;};g.prototype.listener=function(i,h){return this.listen(i,h);};g.prototype.fire=function(l,i){var j,h,k;j=this;h=[];if(l==null){throw new Error("Event ID ["+l+"] is not available");
}if(c[l]==null){return null;}k=function(m,n){return h.push(m.apply(j,i||[]));};b.each(c[l],k);return h;};g.prototype.first=function(m,i){var l,j,h,k;j=this;
h=[];if(m==null){throw new Error("Event ID ["+m+"] is not available");}if(c[m]==null){return null;}l=c[m].slice(0,1);k=function(n,o){return h.push(n.apply(j,i||[]));
};b.each(l,k);return h[0];};g.prototype.until=function(l,i){var j,h,k;j=this;h=null;if(l==null){throw new Error("Event ID ["+l+"] is not available");}if(c[l]==null){return null;
}k=function(m,n){if(h==null){return h.push(m.apply(j,i||[]));}};b.each(c[l],k);return h;};g.prototype.flush=function(h){if(!b.isUndefined(c[h])){c[h]=null;
}return true;};g.prototype.forget=function(j){var h,l,i,k;k=this;l=j.id;h=j.cb;if(!b.isString(l)){throw new Error("Event ID ["+l+"] is not provided");}if(!b.isFunction(h)){throw new Error("Callback is not a function");
}if(c[l]==null){throw new Error("Event ID ["+l+"] is not available");}i=function(n,m){if(n===h){return c[l].splice(m,1);}};b.each(c[l],i);return true;};
return g;})();f=(function(){function g(){return g.make();}g.make=function(){return d!=null?d:d=new e;};return g;})();if(typeof exports!=="undefined"&&exports!==null){if((typeof module!=="undefined"&&module!==null)&&module.exports){module.exports=f;
}exports.EventDispatcher=f;}else{if(a.Javie==null){a.Javie={};}a.Javie.Events=f;a.Javie.EventDispatcher=f;}}).call(this);